{
  "hash": "440ed64bb94b213f02d7fd1a1fedb759",
  "result": {
    "markdown": "---\nbibliography: 00-references.bib\n---\n\n\n\n\n# Introduction {#intro}\n\n## Welcome\n\n<center>\n<img src=\"cover.png\" height=\"500\" alt=\"Cover image\" />\n</center>\n\n</br>\n\nWelcome to the online solutions manual for for An Advanced Guide to Trade Policy Analysis (AGTPA).\n\nThis material provides a comprehensive explanation to reproduce the book's results from @yotov2016advanced in R. We do not attempt to discuss the theory behind gravity models. The book thoroughly and the references cited through the chapters shall fill those details.\n\nThis manual points at two audiences:\n\n* People who know R and are interested in learning about gravity models.\n* People with no R knowledge who know gravity models theory.\n\nWe only assume that readers are familiar with linear regression and that they shall read @yotov2016advanced and @wickham2016r alongside this material.\n\nWe replicated all the results from the book, obtained initially with Stata, in R as a way to contribute to Reproducible Research. R is free and available on almost every operating system. It is a beautiful tool for all statistical analyses.\n\n## Disclaimer\n\nThe views and opinions expressed in this thesis project are solely those of the author. They do not necessarily reflect the official position of the United Nations Economic and Social Commission for Asia and the Pacific or the Pontifical Catholic University of Chile.\n\n## Reproducing AGTPA results yourself\n\nWe created *tradepolicy*, an R package explicitly created to reproduce the results from AGTPA. It features its own functions to obtain the summary tables from the book, besides the datasets in R format.\n\nThe reader can get all the functions and datasets by running this line from RStudio:\n\n\n::: {.cell hash='index_cache/html/install_r_package_c2357d126d89eac7d149701c44393b65'}\n\n```{.r .cell-code}\ninstall.packages(\"tradepolicy\")\n```\n:::\n\n\nAnother way to install the package is by using the *remotes* package and install it from GitHub:\n\n\n::: {.cell hash='index_cache/html/install_devtools_dc829e7d4dd140a5c452d76b3234cbea'}\n\n```{.r .cell-code}\nremotes::install_github(\"pachadotdev/tradepolicy\")\n```\n:::\n\n\n## Getting the most out of this material\n\nThe reader can clone the GitHub repository to obtain the editable RMarkdown files:\n\n```\ngit clone https://github.com/pachadotdev/tradepolicy.git\n```\n\nPlease read @happygitwithr in case of questions about *git* or *GitHub*.\n\nThere's a separate resource, [ESCAP Online Training on Using R for Trade Analysis](https://r.tiid.org/), which gives you a certificate if you finish \nthe online training.\n\n## Acknowledgments\n\nThis ebook improved noticeably from its early drafts thanks to valuable comments and corrections from:\n\n* Yoto Yotov (Drexel University).\n* Luis Gutiérrez, Leonardo Jofré, Jessica Pavani, Constanza Prado, Vanessa Reinoso (Pontificia Universidad Católica de Chile).\n* Jinbo Hao, Alexey Kravchenko, Chence Sun (United Nations).\n\nFor the second (present) edition of the ebook, the communication and contributions to other projects by Laurent Berge (Université Bordeaux), Paulo F. Olivera (Ministério da Economia), Oliver Reiter (Wiener Institut für Internationale Wirtschaftsvergleiche), Hernan Robledo (P. U. Católica de Chile), and Matthieu Stigler (ETH Zurich) were crucial to improving the computation time results. The comments from Maria Semenova (United Nations) largely improved this second edition \nand helped to clarify different parts of the second chapter.\n\nEarlier versions of these solutions started during the development of the [gravity](https://cran.r-project.org/package=gravity) R package, where Hrisyana Doytchinova's comments and feedback were precious.\n\n## Changes concerning the second edition\n\nThe first edition was very conservative in avoiding external libraries (or packages). It only used the strict minimal packages such as *dplyr* for data cleaning and *sandwich* for clustered standard errors. We fitted all the models using base R, which was considerably slower than Stata, with a computation time around five to twenty times larger depending on the model link (or family) used.\n\nThe current edition uses *fixest* reduced the fitting for all the models by around 95%. The book's first edition takes around three hours to fit all the models and produce the final HTML. The same process now takes around ten minutes, and we hope these time efficiencies benefit the readers. An additional improvement was to add additional explanations to the codes and review all the text grammar based on the feedback received after publishing the first edition.\n\nWhile writing this second edition, a critical bug was detected and reported to improve *fixest*, which gave problems when having more than two fixed effects columns. The details for this are available on [GitHub](https://github.com/lrberge/fixest/issues/286). The possibility of comparing with base R, reporting and getting fixes from the packages' authors with transparent communication is a tremendous advantage from Open Source.\n\nAs Professor Yotov told this author once while writing his master's thesis and the first edition: We should focus on the correctness of our results, then think about computational efficiency. He was right!\n\n## Changes concerning the third edition\n\nThe second edition provided multiple internal enhancements to simplify package loading for the end user. Now we use a more direct approach to load the package and its datasets, as CRAN policies changes since we created this, and we also reflect some changes in the Tidyverse (i.e., such as the new `pivot_` functions) and the *fixest* package.\n\nOn the technical side, now we use Quarto to streamline the ebook creation process.\n\n## Contact\n\nPlease send me an email to *m.sepulveda* _[at]_ *mail.utoronto.ca* if you have any questions.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}